graph TD
    A[Сбор метрик состояния] --> B[Дискретизация состояния]
    B --> C[Предсказание будущей нагрузки]
    C --> D{Прогноз перегрузки?}
    D -- Нет --> A
    D -- Да --> E[Выбор действия на основе Q-таблицы или исследования]
    E --> F[Выполнение миграции]
    F --> G[Расчет награды за действие]
    G --> H[Обновление Q-значений]
    H --> A

    classDef default fill:white,stroke:black,stroke-width:1px,color:black;
    classDef decision fill:#fbb,stroke:black,stroke-width:1px,color:black;
    classDef process fill:#fdb,stroke:black,stroke-width:1px,color:black;
    classDef data fill:#bbf,stroke:black,stroke-width:1px,color:black;
    classDef action fill:#bfb,stroke:black,stroke-width:1px,color:black;
    
    class A,B data;
    class C,E,G,H process;
    class D decision;
    class F action;